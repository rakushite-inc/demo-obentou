# AIを活用したお弁当メニュー生成システム 要件定義書

## 1. プロジェクト概要

### 1.1 案件概要
- **案件タイトル**: AIを活用したお弁当メニュー生成システム開発依頼
- **発注目的**: 新規事業として同業他社への販売を目指すシステム開発
- **開発形態**: デモ画面（UI実装のみ、データベース無し、Openapiのapiを叩く）

### 1.2 発注企業情報
- **事業内容**: お弁当製造・販売、就労支援事業所
- **企業規模**: 30~49名
- **設立年数**: 3年以上 10年未満
- **所在地**: 三重県
- **発注部署**: 調達・購買部門

## 2. システム要件

### 2.1 必須機能
1. **お弁当メニューの自動生成機能**
   - OpenAI GPT-4を活用したメニュー提案
   - 複数パターンの提案（1回につき3-5パターン）
   - 栄養バランスを考慮した生成
   - 季節・旬の食材を考慮した提案
   - 構造化データでの出力（メニュー名、主菜、副菜、栄養情報など）

2. **顧客ニーズに基づくカスタマイズ機能**
   - 予算設定（300円〜800円の範囲）
   - カロリー指定（400kcal〜1000kcalの範囲）
   - アレルギー対応（卵、乳、小麦、そば、落花生、えび、かになど）
   - 好み・嫌いな食材の設定
   - ボリューム調整（小・中・大）
   - 和洋中などジャンル指定

3. **生成メニューの保存・管理機能**
   - メニューの一時保存（ローカルストレージ）
   - お気に入り登録
   - 生成履歴の表示
   - メニューの編集・削除
   - PDF出力機能（将来拡張）

### 2.2 対象ユーザー
- **メインターゲット**: 同業他社（お弁当製造・販売業者）
- **想定利用者数**: 600名程度

### 2.3 システム種別
- **開発種別**: Webシステム
- **開発形態**: 新規開発
- **技術スタック**: 開発会社提案（現状：Next.js 15 + TypeScript）

## 3. プロジェクト制約

### 3.1 予算・スケジュール
- **予算**: 総額1,000万円（承認済み予算）
- **開発期間**: 提案希望（特に指定なし）
- **見積もり希望時期**: なるべく早く、遅くとも10月上旬まで

### 3.2 開発制約
- **デザイン**: 必要
- **サーバー**: 開発会社にお任せ
- **オフショア開発**: 検討可能（日本語対応必須）
- **契約形態**: 受託開発

### 3.3 依頼範囲
- 要件定義
- 設計
- プログラミング
- テスト
- リリース

## 4. ステークホルダー情報

### 4.1 発注側体制
- **システム開発経験**: 初めて
- **社内エンジニア**: なし
- **事前資料**: 無し
- **決裁権**: 担当者になし（決裁者との調整が必要）

### 4.2 コミュニケーション
- **打ち合わせ方法**: オンライン
- **希望時間**: 基本的に17時以降
- **連絡可能時間**: 9月5日・8日～12日：17時以降
- **連絡方法**: 電話・マイページ

## 5. 競合状況
- **検討中企業数**: 3社
- **アピール希望ポイント**: 企業の強み

## 6. デモ画面開発方針

### 6.1 開発目的
- 顧客への成果物イメージ提供
- UI/UXの具体的な提示
- システムの基本機能の可視化

### 6.2 実装方針
- データベース不使用
- モックデータでの機能デモ
- レスポンシブデザイン対応
- 直感的で使いやすいUI設計

### 6.3 技術選定理由
- **Next.js 15**: 最新のReact機能とパフォーマンス
- **TypeScript**: 型安全性とメンテナンス性
- **Tailwind CSS**: 高速なUI開発
- **shadcn/ui**: 統一されたデザインシステム
- **OpenAI API**: GPT-4を活用したメニュー生成AI機能

### 6.4 AI機能実装方針
- **OpenAI APIクライアント**: メニュー生成専用のAPIキー管理
- **構造化データ出力**: zodスキーマによるレスポンス検証
- **エラーハンドリング**: API失敗時のフォールバック機能
- **レート制限対応**: APIの使用制限を考慮した実装

## 7. AI機能の詳細仕様

### 7.1 OpenAI API連携仕様
- **使用モデル**: GPT-4o（最新版）
- **APIキー管理**: 環境変数での安全な管理
- **リクエスト制御**: レート制限とタイムアウト設定
- **データスキーマ**: zodによる型安全なレスポンス検証

### 7.2 メニュー生成ロジック
```typescript
// 生成メニューの構造例
interface GeneratedMenu {
  id: string;
  name: string;
  description: string;
  mainDish: string;
  sideDishes: string[];
  rice: string;
  estimatedCalories: number;
  estimatedPrice: number;
  allergens: string[];
  nutritionInfo: {
    protein: number;
    fat: number;
    carbohydrates: number;
  };
}
```

### 7.3 プロンプト設計
- **システムプロンプト**: お弁当業界の専門知識
- **ユーザープロンプト**: カスタマイズ条件の構造化
- **出力制御**: JSON形式での構造化データ生成

## 8. 想定される追加検討事項

### 8.1 本格運用時の検討項目
- データベース設計（PostgreSQL等）
- AIモデルの選定・統合（GPT-4以外の検討も含む）
- セキュリティ対策（APIキー管理、認証・認可）
- スケーラビリティ対応（CDN、キャッシュ戦略）
- 運用・保守体制
- OpenAI APIコスト管理

### 8.2 将来的な機能拡張
- 原価計算機能（食材価格データベース連携）
- 仕入れ業者連携API
- 在庫管理システム連携
- 売上分析・レポート機能
- モバイルアプリ対応
- 画像生成機能（DALL-E連携）
- 栄養士監修機能


## 9. 機能の具体的な推測と狙い

### 9.1 お弁当メニューの自動生成機能
**狙い**: 同業他社の日々のメニュー企画業務を効率化するSaaS商品として販売

**具体的な機能推測**:
- **日替わりメニュー自動提案**: 「明日のお弁当何にしよう」を解決
- **週間メニュー一括生成**: 月曜〜金曜の5日分を一度に企画
- **競合分析機能**: 近隣のお弁当店メニューを分析して差別化提案
- **トレンド反映**: SNSで話題の料理を取り入れたメニュー提案
- **調理難易度調整**: 小規模事業所でも作れる簡単レシピ中心の提案

### 9.2 顧客ニーズに基づくカスタマイズ機能
**狙い**: 各お弁当店の事業規模や顧客層に合わせたメニュー提案で差別化

**具体的な機能推測**:
- **事業所規模対応**: 「30名規模」「100名規模」など製造能力に応じた提案
- **地域特性反映**: 三重県なら「伊勢うどん」「赤福風デザート」など地域色
- **ターゲット層設定**: 「工場作業員向け」「オフィス女性向け」「高齢者向け」
- **予算レンジ設定**: 「300円以内」「500円台」「豪華800円」など価格帯別
- **設備制約対応**: 「揚げ物なし」「オーブンなし」など設備に応じた提案

### 9.3 生成メニューの保存・管理機能
**狙い**: お弁当店の経営データとして蓄積・活用できるシステム

**具体的な機能推測**:
- **メニューライブラリ**: 成功したメニューを「レシピ資産」として蓄積
- **季節メニュー管理**: 「去年の春メニューを今年も使いたい」に対応
- **売上連動機能**: 「このメニューは売れた/売れなかった」の記録
- **原価計算連携**: 各メニューの材料費・利益率を自動計算
- **発注支援機能**: メニューから必要食材リストを自動生成

### 9.4 システム販売戦略の推測
**狙い**: 月額SaaSモデルでお弁当業界にシステム販売

**想定販売モデル**:
- **月額利用料**: 5,000円〜15,000円/月（規模により）
- **ターゲット**: 全国のお弁当製造・販売事業者（数千社規模）
- **セールスポイント**: 
  - 「メニュー企画時間を90%削減」
  - 「栄養バランス自動計算で健康志向対応」
  - 「競合差別化メニューでリピート率向上」
- **導入効果**: 人件費削減、売上向上、業務効率化

### 9.5 就労支援事業所との連携推測
**特徴**: 障がい者雇用と組み合わせたソーシャルビジネスモデル

**推測される連携**:
- **簡単調理レシピ特化**: 就労支援利用者でも作りやすい工程設計
- **作業分担最適化**: 複数人での効率的な調理工程提案
- **スキルレベル対応**: 調理経験に応じた難易度調整機能
